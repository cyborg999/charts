<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Acid Reflux Quiz</title>

    <link rel="apple-touch-icon" sizes="180x180" href="./favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicons/favicon-16x16.png">
    <link rel="manifest" href="./favicons/site.webmanifest" crossorigin="use-credentials">
    <link rel="mask-icon" href="./favicons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="./favicons/mstile-150x150.png">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="result.css" />
  </head>
  <body>
    <main class="result">
      <section class="sec0">
        <article class="container">
          <figure class="sec0_logo"></figure>
        </article>
      </section>

      <section class="sec1">
        <article class="container">
          <h2>GUT QUIZ PROFILE.</h2>
          <table class="table">
            <tbody>
              <tr class="names">
                <td>
                  <label>Client First Name: <span id="fname">David</span></label>
                </td>
                <td colspan="2">
                  <label>Last Name:  <span id="lname">Blaine</span></label>
                </td>
              </tr>
              <tr>
                <td rowspan="2">
                  <label>About the GUT Quiz:</label>
                  <p>This result evaluates your potential risk of GERD.</p>
                </td>
                <td></td>
                <td class="border bleft">
                  <label>AGE: <span id="age">43</span></label>
                </td>
              </tr>
              <tr>
                <td ></td>
                <td class="bleft">
                  <label>Gender: <span id="gender">Male</span></label>
                </td>
              </tr>
            </tbody>
          </table>
        </article>
      </section>
      
      <section class="sec2">
        <article class="container">
          <div class="sec2_left">
            <div class="sec2_gauge gauge">
              <figure class="arrow" id="arrow" >
                <div class="circle"></div>
              </figure>
            </div>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
              sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          </div>
          <div class="sec2_right">
            <h5>Acid Assessment Score</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing 
            elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing 
            elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis. </p>

          </div>
        </article>
      </section>
      
      <section class="sec2">
        <article class="container">
          <div class="sec2_left">
            <div class="bar-chart">
              <div class="sec2_gauge barg">
                <div class="bars bar1">
                  <div class="circle"><span>181</span></div>
                  <figure class="thisisyou"></figure>
                  <figure class="top"></figure>
                  <div class="bar"></div>
                </div>
                <div class="bars bar2">
                  <div class="circle"><span>204</span></div>
                  <figure class="thisisyou"></figure>
                  <figure class="top"></figure>
                  <div class="bar"></div>
                </div>
                <div class="bars bar3 active">
                  <div class="circle"><span>310</span></div>
                  <figure class="thisisyou"></figure>
                  <figure class="top"></figure>
                  <div class="bar"></div>
                </div>
                <div class="bars bar4">
                  <div class="circle"><span>276</span></div>
                  <figure class="thisisyou"></figure>
                  <figure class="top"></figure>
                  <div class="bar"></div>
                </div>
                <div class="bars bar5">
                  <div class="circle"><span>281</span></div>
                  <figure class="thisisyou"></figure>
                  <figure class="top"></figure>
                  <div class="bar"></div>
                </div>
                <div class="bars bar6">
                  <div class="circle"><span>302</span></div>
                  <figure class="thisisyou"></figure>
                  <figure class="top"></figure>
                  <div class="bar"></div>
                </div>
                <div class="bars bar7">
                  <div class="circle"><span>317</span></div>
                  <figure class="thisisyou"></figure>
                  <figure class="top"></figure>
                  <div class="bar"></div>
                </div>
              </div>
              <figure class="ages"></figure>
            </div>
            

            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
              sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          </div>
          <div class="sec2_right">
            <h5>Average Acid levels</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing 
            elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing 
            elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis. </p>

          </div>
        </article>
      </section>

      <section class="sec2">
        <article class="container sec_donut">
          <div class="sec2_left">
            <div class="sec2_gauge donut-container">
              <div class="donut_left">
                <div class="full-circle donut">
                  <span></span>
                  <div class="half-circle angle1"></div>
                  <div class="half-circle angle2 hidden"></div>
                  <div class="center-circle">
                    <b><i class="percent">0</i><sup>%</sup></b>
                  </div>
                </div>
                <h3>Healthy Digestion</h3>
              </div>
              <div class="donut_right">
                <div class="full-circle donut2">
                  <span></span>
                  <div class="half-circle angle1"></div>
                  <div class="half-circle angle2 hidden"></div>
                  <div class="center-circle">
                    <b><i class="percent">0</i><sup>%</sup></b>
                  </div>
                </div>
                <h3>Food Fermentation</h3>
              </div>
            </div>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
              sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          </div>
          <div class="sec2_right">
            <h5>Food Fermentation and Healthy Digestion</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing 
            elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing 
            elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis. </p>

          </div>
        </article>
      </section>

      <section class="sec2">
        <article class="container">
          <div class="sec2_left">
            <div class="sec2_gauge line css-chart" id="line-chart">
              <div class="cover c1"></div>
              <div class="cover c2"></div>
              <div class="cover c3"></div>
              <div class="cover c4"></div>
              <div class="cover c5"></div>
              <div class="cover c6"></div>
              <div class="cover c7"></div>
              <div class="dot dot1"><b></b></div>
              <div class="dot dot2"><b></b></div>
              <div class="dot dot3"><b></b></div>
              <div class="dot dot4"><b></b></div>
              <div class="dot dot5 you"><b></b></div>
              <div class="dot dot6 you"><b></b></div>
              <div class="dot dot7 you"><b></b></div>
              
            </div>
              <figure class="days"></figure>
            
          </div>
          <div class="sec2_right">
            <h5>Average Hypochlorhydria Vs. Your Results</h5>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing 
            elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing 
            elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis. </p>

          </div>
        </article>
      </section>

      <section class="sec3">
        <article class="container">
          <p>Based on your results, our team of qualified specialists suggest these products.</p>
          <h5>As a thank you for filling out this assessment, you will <br>receive 50% off your first order.</h5>
        </article>
      </section>
      
      <section class="sec4">
        <article class="container">
          <div class="sec4_package">
            <div class="sec4_left">
              <figure class="pack1"></figure>
            </div>
            <div class="sec4_right">
              <h3>Advanced Probiotics</h3>
              <figure class="stars"></figure>
              <b>$49.95</b>
              <p>Terra Health Essentials Advanced Probiotics restores the balance of bacteria in your stomach and provides your body with the necessary bacteria needed to maintain a healthy gut and optimal immune system, This expert formula will soothe digestive discomfort, prevent ongoing stomach pain, and help you feel your best.</p>
              <a href="" class="btn">Add to Cart</a>
            </div>
          </div>

          <div class="sec4_package">
            <div class="sec4_left">
              <figure class="pack2"></figure>
            </div>
            <div class="sec4_right">
              <h3>Advanced Probiotics</h3>
              <figure class="stars"></figure>
              <b>$49.95</b>
              <p>Terra Health Essentials Advanced Probiotics restores the balance of bacteria in your stomach and provides your body with the necessary bacteria needed to maintain a healthy gut and optimal immune system, This expert formula will soothe digestive discomfort, prevent ongoing stomach pain, and help you feel your best.</p>
              <a href="" class="btn">Add to Cart</a>
            </div>
          </div>

          <div class="sec4_package">
            <div class="sec4_left">
              <figure class="pack3"></figure>
            </div>
            <div class="sec4_right">
              <h3>Advanced Probiotics</h3>
              <figure class="stars"></figure>
              <b>$49.95</b>
              <p>Terra Health Essentials Advanced Probiotics restores the balance of bacteria in your stomach and provides your body with the necessary bacteria needed to maintain a healthy gut and optimal immune system, This expert formula will soothe digestive discomfort, prevent ongoing stomach pain, and help you feel your best.</p>
              <a href="" class="btn">Add to Cart</a>
            </div>
          </div>
        </article>
      </section>
    </main>
    <div class="footer">
      <footer>
        <article class="container">
        <figure class="footer_logo"></figure>
        </article>
        <article class="container">
        <ul>
        <li><a href="./terms.html" target="_blank">Terms and Conditions</a></li>
        <li>|</li>
        <li><a href="./privacy.html" target="_blank">Privacy Policy</a></li>
        <li>|</li>
        <li><a href="./contact.html" target="_blank">Contact Us</a></li>
        </ul>
        </article>
        <article class="container">
        <p>Copyright &copy; 2020 Terra Health Essentials All Rights Reserved</p>
        </article>
      </footer>
    </div>

    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/jquery-ui.min.js"></script>
    <script type="text/javascript">
      (function($){
        $(document).ready(function(){
          var urlParams = new URLSearchParams(window.location.search);

          function loadDetails(){
            var fname = urlParams.get("firstname");
            var lname = urlParams.get("lastname");
            var age = urlParams.get("age");
            var gender = urlParams.get("gender");

            $("#fname").html(fname);
            $("#lname").html(lname);
            $("#age").html(age);
            $("#gender").html(gender);
          }

          function loadBar(){
            var val = urlParams.get("heartburndays");
            var age = urlParams.get("age");
            var height = val - 37; //37 is the arrow head
            var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;

            //160 height of mobile container, 450 height of desktop container, 181 val
            $(".bars .circle").hide();

            $(".barg .active").removeClass("active");

            if(age >= 18 && age <=25){
              $(".bar1").addClass("active");
            }
            if(age >= 26 && age <=35){
              $(".bar2").addClass("active");
            }
            if(age >= 36 && age <=45){
              $(".bar3").addClass("active");
            }
            if(age >= 46 && age <=55){
              $(".bar4").addClass("active");
            }
            if(age >= 56 && age <=65){
              $(".bar5").addClass("active");
            }
            if(age >= 66 && age <=75){
              $(".bar6").addClass("active");
            }
            if(age >= 76){
              $(".bar7").addClass("active");
            }

            $(".bar1").animate({
              "height" : (width < 800) ? (181/450)*160 : 181
            },2000, "easeOutElastic", function(){
              $(".bar1 .circle").fadeIn("slow");
            });

            $(".bar2").animate({
              "height" : (width < 800) ? (val/450)*160 : val
            },1200, "easeOutElastic", function(){
              $(".bar2 .circle").fadeIn("slow");
            });

            $(".bar3").animate({
              "height" : (width < 800) ? (310/450)*160 : 310
            },1300, "easeOutElastic", function(){
              $(".bar3 .circle").fadeIn("slow");
            });

            $(".bar4").animate({
              "height" : (width < 800) ? (276/450)*160 : 276
            },1700, "easeOutElastic", function(){
              $(".bar4 .circle").fadeIn("slow");
            });

            $(".bar5").animate({
              "height" : (width < 800) ? (281/450)*160 : 281
            },1600, "easeOutElastic", function(){
              $(".bar5 .circle").fadeIn("slow");
            });

            $(".bar6").animate({
              "height" : (width < 800) ? (302/450)*160 : 302
            },1500, "easeOutElastic", function(){
              $(".bar6 .circle").fadeIn("slow");
            });

            $(".bar7").animate({
              "height" : (width < 800) ? (317/450)*160 : 317
            },1500, "easeOutElastic", function(){
              $(".bar7 .circle").fadeIn("slow");
            });

            console.log(val);
          }

          function loadLine(){
            var data = [8, 13, 27, 34, 10, 10, 71];
            var counter = 1;

            for(var i in data){
              var percent = 20 * (data[i]/100);
              console.log(data[i],percent);

              $(".dot" + counter).stop().animate({
                bottom : data[i] + "%"
              }, function(){
                 var me = $(this);

                var pos = me.offset();
                if(me.next(".dot").length == 0){
                  return false;
                }
                var nxtpos = me.next(".dot").offset();
                var bottom =  pos.top - nxtpos.top;
                var left =  nxtpos.left - pos.left;

                var hypotenuse = Math.sqrt((bottom*bottom)+(left*left));
                var angle=  Math.asin( bottom/ hypotenuse) * (180 / Math.PI);

                me.append($('<div class="line-segment" style="--hypotenuse: '+ hypotenuse +'; --angle:'+ angle +';"></div>'))
              });
              $(".dot" + counter).find("b").html(data[i] + "%");

              var height = ((100 - data[i]) - 20) + "%";

              $(".c" + counter).stop().animate({
                height : height
              }, 1000, "easeOutElastic");

              counter++;
            }
          }

          function loadGauge(){
            var val = urlParams.get("acidscore");
            var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;
            var angle = 0;

            //d pwede i compute kc may gap yung chart kaya static nalang :)
              switch(val){
                case "20" : angle = -77; break;
                case "19" : angle = -70; break;
                case "18" : angle = -62; break;
                case "17" : angle = -55; break;
                case "16" : angle = -44; break;
                case "15" : angle = -36; break;
                case "14" : angle = -29; break;
                case "13" : angle = -22; break;
                case "12" : angle = -11; break;
                case "11" : angle = -4; break;
                case "10" : angle = 3; break;
                case "9" : angle = 10; break;
                case "8" : angle = 21; break;
                case "7" : angle = 28; break;
                case "6" : angle = 36; break;
                case "5" : angle = 43; break;
                case "4" : angle = 54; break;
                case "3" : angle = 62; break;
                case "2" : angle = 70; break;
                case "1" : angle = 77; break;
                default : angle = 0; break;
              }   
            if( width < 800){
              switch(val){
                case "20" : angle = -69; break;
                case "19" : angle = -62; break;
                case "18" : angle = -55; break;
                case "17" : angle = -48; break;
                case "16" : angle = -38; break;
                case "15" : angle = -31; break;
                case "14" : angle = -25; break;
                case "13" : angle = -19; break;
                case "12" : angle = -9; break;
                case "11" : angle = -3; break;
                case "10" : angle = 3; break;
                case "9" : angle = 9; break;
                case "8" : angle = 18; break;
                case "7" : angle = 24; break;
                case "6" : angle = 31; break;
                case "5" : angle = 38; break;
                case "4" : angle = 48; break;
                case "3" : angle = 55; break;
                case "2" : angle = 63; break;
                case "1" : angle = 70; break;
                default : angle = 0; break;
              } 

            } 

            $('#arrow').animate({  myRotationProperty: angle}, {
                step: function(angle,fx) {
                  $(this).css({
                    "--angle" : angle
                  });
                },
                duration:'slow'
            },'linear');
          }

          function dougnut(ele){
            var val2 = 180;
            var val = urlParams.get("gasdays");

            if(val > 180){
              ele.find('.angle1').animate({  myRotationProperty: val2}, {
                  step: function(val2,fx) {
                    $(this).css({
                      "transform" : 'rotate(' + val2 + 'deg)'
                    });
                  },
                  duration:"slow"
              });
                ele.find(".angle2").removeClass("hidden");
                ele.find('.angle2').animate({  myRotationProperty: val}, {
                  step: function(val,fx) {
                    ele.find(".percent").html(parseInt(val));

                    if(val >= 180){
                      ele.find("span").addClass("cover");
                    }
                    $(this).css({
                      "transform" : 'rotate(' + val + 'deg)'
                    });
                  },
                  duration:"slow"
                });
            } else {
              ele.find(".angle2").addClass("hidden");
              ele.find(".full-circle span").removeClass("cover");
              
              ele.find('.angle1').animate({  myRotationProperty: val}, {
                  step: function(val,fx) {
                    ele.find(".percent").html(parseInt(val));

                    $(this).css({
                      "transform" : 'rotate(' + val + 'deg)'
                    });
                  },
                  duration:'slow'
              });
              
            }
          }

          loadDetails();

          $(document).scroll(function(){
            var me = $(this);
            var top = me.scrollTop();
            var gauge = $(".gauge").first().offset().top;
            var gaugeLimit = gauge + $(".gauge").height();


            if( (top >= (gauge-220)) && (top < gaugeLimit) ){
              loadGauge();
            } 

            var bar = $(".barg").first().offset().top;
            var barLimit = bar + $(".barg").height();

            if( (top >= (bar-220)) && (top < barLimit) ){
              loadBar();
            } 

            var line = $(".line").first().offset().top;
            var lineLimit = line + $(".line").height();

            if( (top >= (line-220)) && (top < lineLimit) ){
              loadLine();
            } 


             var donut = $(".donut-container").first().offset().top;
            var donutLimit = donut + $(".donut-container").height();

            if( (top >= (donut-220)) && (top < donutLimit) ){
              dougnut($(".donut"));
              dougnut($(".donut2"));
            } 

             
          });

        });
      })(jQuery);
    </script>
  </body>
</html>
